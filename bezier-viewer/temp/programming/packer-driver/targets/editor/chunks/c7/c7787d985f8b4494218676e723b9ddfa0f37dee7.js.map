{"version":3,"sources":["file:///E:/personal/bezier-viewer/assets/scripts/Point.ts"],"names":["_decorator","Component","NodeEventType","v2","UITransform","ccclass","property","Point","touchPos","onLoad","addEvents","onDestroy","removeEvents","start","node","on","TOUCH_MOVE","onTouchMove","off","e","propagationStopped","console","log","touch","getUILocation","x","y","parent","getComponent","convertToNodeSpaceAR","setPosition"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAA4CC,MAAAA,a,OAAAA,a;AAAqBC,MAAAA,E,OAAAA,E;AAAIC,MAAAA,W,OAAAA,W;;;;;;;;;OACpF;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;uBAGjBO,K,WADZF,OAAO,CAAC,OAAD,C,gBAAR,MACaE,KADb,SAC2BN,SAD3B,CACqC;AAAA;AAAA;AAAA,eAGzBO,QAHyB,GAGRL,EAAE,CAAC,CAAD,EAAI,CAAJ,CAHM;AAAA;;AAKjCM,QAAAA,MAAM,GAAG;AACL,eAAKC,SAAL;AACH;;AAEDC,QAAAA,SAAS,GAAG;AACR,eAAKC,YAAL;AACH;;AAEDC,QAAAA,KAAK,GAAG,CAEP;;AAEOH,QAAAA,SAAS,GAAG;AAChB,eAAKI,IAAL,CAAUC,EAAV,CAAab,aAAa,CAACc,UAA3B,EAAuC,KAAKC,WAA5C,EAAyD,IAAzD;AACH;;AAEOL,QAAAA,YAAY,GAAG;AACnB,eAAKE,IAAL,CAAUI,GAAV,CAAchB,aAAa,CAACc,UAA5B,EAAwC,KAAKC,WAA7C,EAA0D,IAA1D;AACH;;AAEOA,QAAAA,WAAW,CAACE,CAAD,EAAgB;AAC/BA,UAAAA,CAAC,CAACC,kBAAF,GAAuB,IAAvB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,CAA1B;AACAA,UAAAA,CAAC,CAACI,KAAF,CAAQC,aAAR,CAAsB,KAAKhB,QAA3B;AACAa,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,KAAKd,QAAL,CAAciB,CAAlC,EAAqC,KAAKjB,QAAL,CAAckB,CAAnD;AAEA,eAAKZ,IAAL,CAAUa,MAAV,CAAiBC,YAAjB,CAA8BxB,WAA9B,EAA2CyB,oBAA3C;AAEA,eAAKf,IAAL,CAAUgB,WAAV,CAAsB,KAAKtB,QAAL,CAAciB,CAApC,EAAuC,KAAKjB,QAAL,CAAckB,CAArD;AAGH;;AApCgC,O","sourcesContent":["import { _decorator, Component, Node, Button, Touch, EventTouch, NodeEventType, Vec2, v2, UITransform } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Point')\nexport class Point extends Component {\n\n    /**触摸点的位置 */\n    private touchPos: Vec2 = v2(0, 0);\n\n    onLoad() {\n        this.addEvents();\n    }\n\n    onDestroy() {\n        this.removeEvents();\n    }\n\n    start() {\n\n    }\n\n    private addEvents() {\n        this.node.on(NodeEventType.TOUCH_MOVE, this.onTouchMove, this);\n    }\n\n    private removeEvents() {\n        this.node.off(NodeEventType.TOUCH_MOVE, this.onTouchMove, this);\n    }\n\n    private onTouchMove(e: EventTouch) {\n        e.propagationStopped = true;\n        console.log('touchMove:', e);\n        e.touch.getUILocation(this.touchPos);\n        console.log('控制点：', this.touchPos.x, this.touchPos.y);\n\n        this.node.parent.getComponent(UITransform).convertToNodeSpaceAR()\n\n        this.node.setPosition(this.touchPos.x, this.touchPos.y);\n\n\n    }\n\n\n}\n\n"]}