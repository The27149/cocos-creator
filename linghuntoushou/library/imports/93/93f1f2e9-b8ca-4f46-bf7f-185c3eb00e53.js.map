{"version":3,"sources":["assets\\script\\common\\LocalData.ts"],"names":[],"mappings":";;;;;;AACA;IAMI,mBAAY,IAAY;QACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACZ,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC7B;IACL,CAAC;IAED,uBAAuB;IACf,sCAAkB,GAA1B;QACI,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACpD,CAAC;IAED,sBAAsB;IACd,wCAAoB,GAA5B;QACI,IAAI,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC;IAED,UAAU;IACH,2BAAO,GAAd,UAAe,GAAW,EAAE,KAAU;QAClC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC9B,CAAC;IAED,UAAU;IACH,2BAAO,GAAd,UAAe,GAAW;QACtB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IACL,gBAAC;AAAD,CArCA,AAqCC,IAAA","file":"","sourceRoot":"/","sourcesContent":["\r\nexport default class LocalData {\r\n\r\n\r\n    private libName: string;\r\n    private data: any;\r\n\r\n    constructor(name: string) {\r\n        this.libName = name;\r\n        this.syncFromLocalStorage();\r\n        if (!this.data) {\r\n            this.data = {};\r\n            this.syncToLocalStorage();\r\n        }\r\n    }\r\n\r\n    /**数据同步到localStorage */\r\n    private syncToLocalStorage() {\r\n        let data = JSON.stringify(this.data);\r\n        cc.sys.localStorage.setItem(this.libName, data);\r\n    }\r\n\r\n    /**数据从localStorage更新*/\r\n    private syncFromLocalStorage() {\r\n        let str = cc.sys.localStorage.getItem(this.libName);\r\n        this.data = JSON.parse(str);\r\n    }\r\n\r\n    /**存入数据 */\r\n    public setData(key: string, value: any) {\r\n        this.data[key] = value;\r\n        this.syncToLocalStorage();\r\n    }\r\n\r\n    /**获取数据 */\r\n    public getData(key: string): any {\r\n        return this.data[key];\r\n    }\r\n}\r\n"]}