{"version":3,"sources":["assets\\script\\Basket.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Game from \"./Game\";\r\nimport Module from \"./common/Module\";\r\nimport Utils from \"./common/Utils\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Basket extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    basketOut: cc.Node = null;\r\n\r\n    private game: Game = null;\r\n    private posX: number = 540;\r\n    private posYMin: number = -200;\r\n    private posYMax: number = 400;\r\n    private collider1Off: cc.Vec2 = null;\r\n    private collider2Off: cc.Vec2 = null;\r\n    private collider1: cc.PhysicsCircleCollider = null;\r\n    private collider2: cc.PhysicsCircleCollider = null;\r\n    private basketOutOff: cc.Vec3 = cc.v3();\r\n\r\n    protected onLoad(): void {\r\n        this.game = Module.get(Game);\r\n        let colliders = this.node.getComponents(cc.PhysicsCollider);\r\n        this.collider1 = colliders.find(item => item.tag === 1) as cc.PhysicsCircleCollider;\r\n        this.collider2 = colliders.find(item => item.tag === 2) as cc.PhysicsCircleCollider;\r\n        this.collider1Off = this.collider1.offset;\r\n        this.collider2Off = this.collider2.offset;\r\n        this.node.position.sub(this.basketOut.position, this.basketOutOff);\r\n    }\r\n\r\n    /**重置篮筐位置 状态 */\r\n    public reset(direction: number) {\r\n        let posY = Utils.randomInt(this.posYMin, this.posYMax),\r\n            posX = this.posX * direction;\r\n        this.node.setPosition(posX, posY);\r\n        let outOff = this.basketOutOff.clone();\r\n        outOff.x *= -direction;\r\n        let outPos = this.node.position.sub(outOff);\r\n        this.basketOut.setPosition(outPos);\r\n        this.node.scaleX = this.basketOut.scaleX = -direction;\r\n        let temp1 = cc.v2(-direction * this.collider1Off.x, this.collider1Off.y);\r\n        let temp2 = cc.v2(-direction * this.collider2Off.x, this.collider2Off.y);\r\n        this.collider1.offset = temp1;\r\n        this.collider2.offset = temp2;\r\n        this.collider1.apply();\r\n        this.collider2.apply();\r\n    }\r\n\r\n}\r\n"]}