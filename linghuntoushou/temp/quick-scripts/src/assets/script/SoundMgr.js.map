{"version":3,"sources":["assets\\script\\SoundMgr.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,0CAAqC;AAG/B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAM5C;IAAsC,4BAAM;IAA5C;QAAA,qEAmCC;QAjCG,iBAAW,GAAmB,IAAI,CAAC;QAGnC,cAAQ,GAAc,IAAI,CAAC;QAE3B,YAAY;QACJ,WAAK,GAA8B,IAAI,GAAG,EAAE,CAAC;;IA2BzD,CAAC;IAzBa,yBAAM,GAAhB;QACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IAC3D,CAAC;IAEO,8BAAW,GAAnB;QACI,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;IACnD,CAAC;IAED;;;OAGG;IACI,6BAAU,GAAjB,UAAkB,IAAY;QAA9B,iBAWC;QAVG,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,IAAI;YAAE,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;aAC3C;YACD,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,SAAS,EAAE,UAAC,KAAK,EAAE,IAAkB;gBAC5D,IAAI,CAAC,KAAK,EAAE;oBACR,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC3B,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;iBACzC;YACL,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IA/BD;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;iDACU;IAGnC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;8CACO;IALV,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAmC5B;IAAD,eAAC;CAnCD,AAmCC,CAnCqC,gBAAM,GAmC3C;kBAnCoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import { SoundPath } from \"./common/Global\";\r\nimport Module from \"./common/Module\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n\r\n\r\n\r\n@ccclass\r\nexport default class SoundMgr extends Module {\r\n    @property(cc.AudioSource)\r\n    audioSource: cc.AudioSource = null;\r\n\r\n    @property(cc.Button)\r\n    soundBtn: cc.Button = null;\r\n\r\n    /**缓存声音资源 */\r\n    private clips: Map<string, cc.AudioClip> = new Map();\r\n\r\n    protected onLoad(): void {\r\n        this.soundBtn.node.on('click', this.switchSound, this);\r\n    }\r\n\r\n    private switchSound() {\r\n        this.audioSource.mute = !this.audioSource.mute;\r\n    }\r\n\r\n    /**\r\n     * 播放音效文件\r\n     * @param path 音效路径，相对于resources\r\n     */\r\n    public playEffect(path: string): void {\r\n        let clip = this.clips.get(path);\r\n        if (clip) cc.audioEngine.play(clip, false, 0.5);\r\n        else {\r\n            cc.resources.load(path, cc.AudioClip, (error, clip: cc.AudioClip) => {\r\n                if (!error) {\r\n                    this.clips.set(path, clip);\r\n                    cc.audioEngine.play(clip, false, 0.5);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n"]}